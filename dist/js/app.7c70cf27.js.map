{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Landing.vue?7d39","webpack:///./src/App.vue?7976","webpack:///src/App.vue","webpack:///./src/App.vue?5de9","webpack:///./src/App.vue","webpack:///./src/views/Landing.vue?365e","webpack:///./src/views/Landing.vue","webpack:///./src/router.ts","webpack:///./src/store/modules/backend/actions.js","webpack:///./src/store/modules/backend/mutations.js","webpack:///./src/store/modules/backend/index.js","webpack:///./src/store/modules/app/actions.js","webpack:///./src/store/modules/app/mutations.js","webpack:///./src/store/modules/app/getters.js","webpack:///./src/store/modules/app/index.js","webpack:///./src/store/modules/image/getters.js","webpack:///./src/store/modules/image/actions.js","webpack:///./src/store/modules/image/mutations.js","webpack:///./src/store/modules/image/index.js","webpack:///./src/store/modules/annotation/helpers.js","webpack:///./src/store/modules/annotation/actions.js","webpack:///./src/store/modules/annotation/mutations.js","webpack:///./src/store/modules/annotation/getters.js","webpack:///./src/store/modules/annotation/index.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","model","callback","$$v","snackbar","expression","_v","on","$event","acceptCookies","staticRenderFns","methods","localStorage","setItem","created","component","VApp","VBtn","VContent","VSnackbar","staticClass","VContainer","VDivider","VFlex","VIcon","VLayout","VSpacer","VToolbar","VToolbarItems","VToolbarTitle","use","base","routes","path","Landing","loadProject","state","dispatch","root","dataLocation","location","origin","projectFilePath","fetch","response","json","project","annotationFilePath","annotation","images","forEach","image","endsWith","fileType","source","function","opacity","editor","setAnnotationFilePath","payload","commit","saveProject","rootState","postUrl","axios","post","activeImageIndex","activeStep","app","activeLayerIndex","steps","filePath","text","color","changesSaved","lastSaveTimeStamp","Date","JSON","stringify","saveAnnotation","annotationData","getDefaultImageAnnotation","ext","extname","split","annotationLocation","setProjectFilePath","getProjectImage","projectImageName","getProjectImageProperties","propsLocation","propertiesFile","convert","ignoreDeclaration","compact","ignoreComment","alwaysChildren","attributesKey","textKey","xml2json","parse","mppX","Number","properties","find","ele","mppY","setAvailableImages","availableImages","namespaced","actions","mutations","loadEditorConfig","config","setSteps","setTask","task","dismissSnackbar","activateSnackbar","synchroniseAnnotationAndOSDCanvas","OSDviewer","setActiveStepAndLayer","index","setActiveStep","step","specificLayer","id","setActiveLayerIndex","layerIndex","toggleSettings","setActiveValidationIndex","setupForValidation","loadDemo","savedAnnotation","toggleToolsDrawer","setToolsDrawerState","toggleStudioDrawer","setStudioDrawerState","createNewItem","studyName","imageName","active","viewer","addHandler","paper","view","autoUpdate","layers","layer","getItems","item","visible","baseImage","world","getItemAt","center","viewportToImageCoordinates","viewport","getCenter","currentZoom","getZoom","zoom","viewportToImageZoom","Point","x","y","bounds","itemsTree","search","minX","minY","maxX","width","maxY","height","treeNode","update","viewSize","newContainerSize","strokeWidth","Math","ceil","strokeScale","getMaxZoom","drawLabel","container","getElementById","offsetWidth","offsetHeight","stepIndex","settingsFlag","activeValidationIndex","toolsDrawer","studioDrawer","instruction","getStepTools","tools","getters","round","getImageWidth","getItemCount","getContentSize","getImages","projectImages","filter","map","imageDetails","getOpacity","opacityCache","addOSDImage","clearImages","setProjectImageName","setupOsdCanvas","resetImageState","setActiveImageIndex","setActiveImageOpacity","setActiveImageName","setZoom","newZoom","KeyboardEvent","zoomTo","setPixelScaleFactor","navigator","destroy","OSDworld","imageSize","imageCenter","imageZoom","imageAccessToken","openseadragon","Viewer","showNavigationControl","showNavigator","navigatorId","navigatorAutoResize","originalEvent","preventDefaultAction","findIndex","Vue","set","newOpacity","min","max","setOpacity","addTiledImage","tileSource","URL","encodeURIComponent","toString","addSimpleImage","url","pixelScaleFactor","defaultColors","fill","hue","saturation","lightness","alpha","stroke","drawItem","newPaperItem","Shape","Circle","radius","countable","class","locked","drawItemColor","Rectangle","point","size","Path","segments","closed","itemPosition","position","Raster","crossOrigin","strokeScaling","getSegments","len","segment","hasHandles","handleIn","handleOut","getColor","fillColor","strokeColor","paperItem","stateItem","Color","loadAnnotation","treeNodes","items","helpers","load","resetAnnotationState","refreshAnnotationState","prepareCanvas","element","style","pointerEvents","activate","createLayer","activeLayerName","setActiveLayerOpacity","activeLayer","setActiveLayerName","setActiveLayerType","deleteActiveLayer","setProjectName","setSelectedItems","drawBoundingBoxes","setSaveState","flagAnnotationEdits","resetProjectState","addItemToActiveLayer","currentStateLayer","className","rasterizedItem","rasterize","itemDataURL","toDataURL","editItems","match","overlapping","unshift","itemsToRaster","Group","sendToBack","rasterizedGroup","resolution","rasterizedData","projectStateRefreshIndex","newLayer","Layer","newName","remove","selectedItems","boundingBoxes","newPaperLayer","box","boundingBox","predictionClass","predictionScore","validationClass","validationScore","saveState","getItemsForValidation","validationLayer","currentColor","Vuex","Store","backend","icons","iconfont","productionTip","router","store","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.7c70cf27.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"Dashboard~Demo~Editor\":\"Dashboard~Demo~Editor\",\"Dashboard\":\"Dashboard\",\"Editor\":\"Editor\",\"Demo\":\"Demo\",\"Loading\":\"Loading\"}[chunkId]||chunkId) + \".\" + {\"Dashboard~Demo~Editor\":\"ba4f1152\",\"Dashboard\":\"945f037e\",\"Editor\":\"f121f6d3\",\"Demo\":\"5418220a\",\"Loading\":\"a0da94b4\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"Dashboard~Demo~Editor\":1,\"Dashboard\":1,\"Editor\":1,\"Loading\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({\"Dashboard~Demo~Editor\":\"Dashboard~Demo~Editor\",\"Dashboard\":\"Dashboard\",\"Editor\":\"Editor\",\"Demo\":\"Demo\",\"Loading\":\"Loading\"}[chunkId]||chunkId) + \".\" + {\"Dashboard~Demo~Editor\":\"72b6121f\",\"Dashboard\":\"2bcf1840\",\"Editor\":\"d7b4cf44\",\"Demo\":\"31d6cfe0\",\"Loading\":\"a73e0b4b\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=028d4750&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Landing.vue?vue&type=style&index=0&id=028d4750&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-content',[_c('router-view')],1),_c('v-snackbar',{attrs:{\"timeout\":0},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" This site uses cookies to function optimally. \"),_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.acceptCookies()}}},[_vm._v(\" OK \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app>\n    <v-content>\n      <router-view/>\n    </v-content>\n    <v-snackbar\n      v-model=\"snackbar\"\n      :timeout=0\n    >\n      This site uses cookies to function optimally.\n      <v-btn\n        dark\n        text\n        @click=\"acceptCookies()\"\n      >\n        OK\n      </v-btn>\n    </v-snackbar>\n  </v-app>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n\n  data () {\n    return {\n      snackbar: true\n    }\n  },\n\n  methods: {\n    acceptCookies () {\n      this.snackbar = false\n      window.localStorage.setItem('acceptCookies', 'false')\n    }\n  },\n\n  created () {\n    if (window.localStorage.acceptCookies && window.localStorage.acceptCookies === 'false') {\n      this.snackbar = false\n    }\n  }\n}\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3eafa944&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VApp,VBtn,VContent,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-toolbar',{staticClass:\"primary\",attrs:{\"flat\":\"\",\"dense\":\"\",\"dark\":\"\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('v-toolbar-title',{staticClass:\"white--text\"},[_vm._v(\" AIDA \")])],1),_c('v-spacer'),_c('v-toolbar-items',[_c('v-btn',{attrs:{\"icon\":\"\",\"to\":\"/dashboard\"}},[_c('v-icon',[_vm._v(\" mdi-apps \")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"href\":\"https://github.com/alanaberdeen/AIDA/wiki\"}},[_c('v-icon',[_vm._v(\" mdi-book-open-outline \")])],1)],1)],1),_c('v-container',[_c('v-layout',{attrs:{\"justify-center\":\"\",\"pb-3\":\"\"}},[_c('h1',{staticClass:\"display-4 primary--text\"},[_vm._v(\" AIDA \")])]),_c('v-layout',{attrs:{\"justify-center\":\"\",\"pb-5\":\"\"}},[_c('h2',{staticClass:\"display-1\"},[_vm._v(\" Annotate Image Data by Asssigment \")])]),_c('v-layout',{attrs:{\"justify-center\":\"\",\"row\":\"\",\"wrap\":\"\",\"pb-10\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\",\"sm3\":\"\",\"md2\":\"\",\"my-1\":\"\",\"mx-2\":\"\"}},[_c('v-btn',{attrs:{\"dark\":\"\",\"block\":\"\",\"to\":\"/demo\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-play \")]),_vm._v(\" try it out \")],1)],1),_c('v-flex',{attrs:{\"xs8\":\"\",\"sm3\":\"\",\"my-1\":\"\",\"md2\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"href\":\"https://github.com/alanaberdeen/AIDA\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-github \")]),_vm._v(\" Github \")],1)],1),_c('v-flex',{attrs:{\"xs8\":\"\",\"sm3\":\"\",\"md2\":\"\",\"my-1\":\"\",\"mx-2\":\"\"}},[_c('v-btn',{attrs:{\"block\":\"\",\"href\":\"https://github.com/alanaberdeen/AIDA/wiki\"}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\" mdi-book-open-outline \")]),_vm._v(\" Docs \")],1)],1)],1),_c('v-layout',{attrs:{\"mb-4\":\"\"}},[_c('v-flex',{attrs:{\"md8\":\"\",\"offset-md2\":\"\",\"sm10\":\"\",\"offset-sm1\":\"\",\"xs12\":\"\"}},[_c('h3',{staticClass:\"primary--text title\"},[_vm._v(\" The Basic Idea \")]),_c('v-divider',{staticClass:\"my-1\"}),_c('p',[_vm._v(\" AIDA brings an open source web-based work-flow to image annotation. \")]),_c('p',[_vm._v(\" Currently, in the biomedical imaging space, image annotation is largely confined to shrink-wrapped software on a single computer with limited interactive capabilities and few, usually closed, data formats. \")]),_c('p',[_vm._v(\" AIDA is a web interface that enables distributed teams of researchers to directly annotate images with easy to use on screen drawing tools. AIDA supports the creation of well defined annotation trials which include a series of high resolution images and a specific set of annotation tasks. \")]),_c('p',[_vm._v(\" For documentation and further information see the \"),_c('a',{attrs:{\"href\":\"https://github.com/alanaberdeen/AIDA/wiki\"}},[_vm._v(\"Wiki\")]),_vm._v(\". \")])],1)],1),_c('v-layout',{attrs:{\"mb-4\":\"\"}},[_c('v-flex',{attrs:{\"md8\":\"\",\"offset-md2\":\"\",\"sm10\":\"\",\"offset-sm1\":\"\",\"xs12\":\"\"}},[_c('h3',{staticClass:\"primary--text title\"},[_vm._v(\" How has it been implemented? \")]),_c('v-divider',{staticClass:\"my-1\"}),_c('p',[_vm._v(\" The user interface is a \"),_c('a',{attrs:{\"href\":\"https://vuejs.org/\"}},[_vm._v(\"VueJS\")]),_vm._v(\" Single Page Application, encapsulating and interacting with two other significant JavaScript libraries: \"),_c('a',{attrs:{\"href\":\"https://openseadragon.github.io/\"}},[_vm._v(\"OpenSeaDragon\")]),_vm._v(\" to manipulate the high-res images and \"),_c('a',{attrs:{\"href\":\"http://paperjs.org/\"}},[_vm._v(\"PaperJS\")]),_vm._v(\" to provide the drawing functionality. \"),_c('a',{attrs:{\"href\":\"http://vuetifyjs.com/\"}},[_vm._v(\"VuetifyJS\")]),_vm._v(\" is used as a UI component library which implements the material design language. \")])],1)],1),_c('v-layout',{attrs:{\"my-4\":\"\"}},[_c('v-flex',{attrs:{\"md8\":\"\",\"offset-md2\":\"\",\"sm10\":\"\",\"offset-sm1\":\"\",\"xs12\":\"\"}},[_c('h3',{staticClass:\"primary--text title\"},[_vm._v(\" What's planned? \")]),_c('v-divider',{staticClass:\"my-1\"}),_c('p',[_vm._v(\" The software is published as Open Source under the permissive \"),_c('a',{attrs:{\"href\":\"https://github.com/alanaberdeen/AIDA/blob/master/LICENSE\"}},[_vm._v(\"MIT license\")]),_vm._v(\". \")]),_c('p',[_vm._v(\" The next stage of development will be to integrate intelligent tools that leverage the power of machine learning techniques. We hope to enhance the ability of the user to quickly and accurately mark up images through predictive assistance. \")])],1)],1),_c('v-layout',{attrs:{\"my-4\":\"\"}},[_c('v-flex',{attrs:{\"md8\":\"\",\"offset-md2\":\"\",\"sm10\":\"\",\"offset-sm1\":\"\",\"xs12\":\"\"}},[_c('h3',{staticClass:\"primary--text title\"},[_vm._v(\" About \")]),_c('v-divider',{staticClass:\"my-1\"}),_c('p',[_vm._v(\" This is a project of \"),_c('a',{attrs:{\"href\":\"https://alanaberdeen.com\"}},[_vm._v(\"Alan Aberdeen\")]),_vm._v(\", Jens Rittscher, and Nasullah Khalid at the University of Oxford, specifically the \"),_c('a',{attrs:{\"href\":\"https://www.ludwig.ox.ac.uk/jens-rittscher-group-page\"}},[_vm._v(\"Quantitative Biological Imaging Group\")]),_vm._v(\". \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Landing.vue?vue&type=template&id=028d4750&scoped=true&\"\nvar script = {}\nimport style0 from \"./Landing.vue?vue&type=style&index=0&id=028d4750&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"028d4750\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VContainer,VDivider,VFlex,VIcon,VLayout,VSpacer,VToolbar,VToolbarItems,VToolbarTitle})\n","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport Landing from './views/Landing.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'landing',\n      component: Landing\n    },\n    {\n      path: '/dashboard',\n      name: 'dashboard',\n      component: () => import(/* webpackChunkName: \"Dashboard\" */ './views/Dashboard.vue')\n    },\n    {\n      path: '/edit',\n      name: 'edit',\n      component: () => import(/* webpackChunkName: \"Editor\" */ './views/Editor.vue')\n    },\n    {\n      path: '/loading/:filePath',\n      name: 'loading',\n      component: () => import(/* webpackChunkName: \"Loading\" */ './views/Loading.vue')\n    },\n    {\n      path: '/demo',\n      name: 'demo',\n      component: () => import(/* webpackChunkName: \"Demo\" */ './views/Demo.vue')\n    }\n  ]\n})\n","import axios from 'axios'\nimport convert from 'xml-js'\nimport path from 'path'\n\nexport default {\n  loadProject: async ({\n    state,\n    dispatch\n  }) => {\n    // Clear any images in the current vuex state.\n    await dispatch('image/clearImages', null, { root: true })\n\n    // Sync\n    await dispatch('app/synchroniseAnnotationAndOSDCanvas', null, { root: true })\n\n    // Load project data\n    try {\n      const dataLocation = `${location.origin}/data/${state.projectFilePath}`\n      const response = await window.fetch(dataLocation)\n      const project = await response.json()\n\n      // Check for project file, if found then load that project\n      try {\n        // Load project annotation\n        if (Object.prototype.hasOwnProperty.call(project, 'annotation')) {\n          const annotationFilePath = project.annotation\n          dispatch('setAnnotationFilePath', annotationFilePath)\n\n          const response = await window.fetch(`${location.origin}/data/annotations/${annotationFilePath}`)\n          const annotation = await response.json()\n          dispatch('annotation/loadAnnotation', annotation, { root: true })\n        }\n      } catch (err) {\n        dispatch('getDefaultImageAnnotation')\n      }\n\n      try {\n        // Load project images\n        if (Object.prototype.hasOwnProperty.call(project, 'images')) {\n          project.images.forEach(image => {\n            if (image.path.endsWith('.tif') || image.path.endsWith('.tiff')) {\n              dispatch('image/addOSDImage', {\n                name: image.name,\n                fileType: 'tiled',\n                source: `${location.origin}/data/images/${image.path}`,\n                function: 'project',\n                opacity: 1\n              }, { root: true })\n            } else if (image.path.endsWith('.dzi')) {\n              dispatch('image/addOSDImage', {\n                name: image.name,\n                fileType: 'dzi',\n                source: `${location.origin}/data/images/${image.path}`,\n                function: 'project',\n                opacity: 1\n              }, { root: true })\n\n              // dispatch('getProjectImageProperties')\n            } else {\n              dispatch('image/addOSDImage', {\n                name: image.name,\n                fileType: 'simple',\n                source: `${location.origin}/data/images/${image.path}`,\n                function: 'project',\n                opacity: 1\n              }, { root: true })\n            }\n          })\n        }\n\n        // Load project editor configuration\n        if (Object.prototype.hasOwnProperty.call(project, 'editor')) {\n          dispatch('app/loadEditorConfig', project.editor, { root: true })\n        }\n      } catch (err) {\n        dispatch('getProjectImage')\n      }\n    } catch (err) {\n      dispatch('getDefaultImageAnnotation')\n      dispatch('getProjectImage')\n    }\n  },\n\n  setAnnotationFilePath: ({\n    commit\n  }, payload) => {\n    commit('setAnnotationFilePath', payload)\n  },\n\n  async saveProject ({\n    dispatch,\n    state,\n    rootState\n  }) {\n    try {\n      // Ensure all the paperJS items are included in the vuex state\n      await dispatch('annotation/refreshAnnotationState', null, { root: true })\n\n      // Post API request.\n      const postUrl = `${location.origin}/save`\n      await axios.post(\n        postUrl,\n        {\n          editor: {\n            activeImageIndex: rootState.image.activeImageIndex,\n            activeStep: rootState.app.activeStep,\n            activeLayerIndex: rootState.app.activeLayerIndex,\n            type: rootState.app.type,\n            steps: rootState.app.steps\n          },\n          annotation: {\n            data: rootState.annotation.project,\n            filePath: state.annotationFilePath\n          },\n          images: rootState.image.images\n        }\n      )\n\n      // Activate notification\n      dispatch('app/activateSnackbar', {\n        text: 'Saved annotation data',\n        color: 'success'\n      }, { root: true })\n\n      // Set annotation save state\n      dispatch('annotation/setSaveState', {\n        changesSaved: true,\n        lastSaveTimeStamp: new Date()\n      }, { root: true })\n\n    // Handle errors\n    } catch (err) {\n      try {\n        // Save to local browser storage\n        window.localStorage.setItem('annotation', JSON.stringify(rootState.annotation.project))\n\n        // Activate notification\n        dispatch('app/activateSnackbar', {\n          text: 'Could not reach server, data saved in browser',\n          color: 'warning'\n        }, { root: true })\n\n        // Set annotation save state\n        dispatch('annotation/setSaveState', {\n          changesSaved: true,\n          lastSaveTimeStamp: new Date()\n        }, { root: true })\n      } catch (err) {\n        dispatch('app/activateSnackbar', {\n          text: 'Annotation data could not be saved',\n          color: 'error'\n        }, { root: true })\n      }\n    }\n  },\n\n  async saveAnnotation ({\n    state,\n    dispatch,\n    rootState\n  }) {\n    try {\n      // Ensure all the paperJS items are included in the vuex state\n      await dispatch('annotation/refreshAnnotationState', null, { root: true })\n\n      // Post API request.\n      const postUrl = location.origin + '/save'\n      await axios.post(\n        postUrl,\n        {\n          filePath: state.annotationFilePath,\n          annotationData: rootState.annotation.project\n        }\n      )\n\n      // Activate notification\n      dispatch('app/activateSnackbar', {\n        text: 'Saved annotation data',\n        color: 'success'\n      }, { root: true })\n\n      // Set annotation save state\n      dispatch('annotation/setSaveState', {\n        changesSaved: true,\n        lastSaveTimeStamp: new Date()\n      }, { root: true })\n\n    // Handle errors\n    } catch (err) {\n      try {\n        // Save to local browser storage\n        window.localStorage.setItem('annotation', JSON.stringify(rootState.annotation.project))\n\n        // Activate notification\n        dispatch('app/activateSnackbar', {\n          text: 'Could not reach server, data saved in browser',\n          color: 'warning'\n        }, { root: true })\n\n        // Set annotation save state\n        dispatch('annotation/setSaveState', {\n          changesSaved: true,\n          lastSaveTimeStamp: new Date()\n        }, { root: true })\n      } catch (err) {\n        dispatch('app/activateSnackbar', {\n          text: 'Annotation data could not be saved',\n          color: 'error'\n        }, { root: true })\n      }\n    }\n  },\n\n  async getDefaultImageAnnotation ({\n    state,\n    dispatch\n  }) {\n    const ext = path.extname(state.projectFilePath)\n    const filePath = state.projectFilePath.split(ext)[0].split('images/')[1]\n    const annotationLocation = `${location.origin}/data/annotations/${filePath}.json`\n    try {\n      const response = await window.fetch(annotationLocation)\n      const annotationData = await response.json()\n      dispatch('annotation/loadAnnotation', annotationData, { root: true })\n    } catch (err) {\n      // console.log('Annotation data either could not be found or could not be loaded')\n      // console.log('Loading the default empty project')\n      dispatch('annotation/loadAnnotation', null, { root: true })\n    }\n  },\n\n  setProjectFilePath ({\n    commit\n  }, payload) {\n    commit('setProjectFilePath', payload)\n  },\n\n  async getProjectImage ({\n    state,\n    rootState,\n    dispatch\n  }) {\n    // Clear any images in the current vuex state.\n    await dispatch('image/clearImages', null, { root: true })\n    if (state.projectFilePath.endsWith('.tif') || state.projectFilePath.endsWith('.tiff')) {\n      dispatch('image/addOSDImage', {\n        name: rootState.image.projectImageName,\n        fileType: 'tiled',\n        source: state.projectFilePath,\n        function: 'project',\n        opacity: 1\n      }, { root: true })\n    } else if (state.projectFilePath.endsWith('.dzi')) {\n      // Set image type by checking for .dzi in the fileName\n      dispatch('image/addOSDImage', {\n        name: rootState.image.projectImageName,\n        fileType: 'dzi',\n        source: `${location.origin}/data/${state.projectFilePath}`,\n        function: 'project',\n        opacity: 1\n      }, { root: true })\n      // dispatch('getProjectImageProperties')\n    } else {\n      dispatch('image/addOSDImage', {\n        name: rootState.image.projectImageName,\n        fileType: 'simple',\n        source: `${location.origin}/data/${state.projectFilePath}`,\n        function: 'project',\n        opacity: 1\n      }, { root: true })\n    }\n  },\n\n  // Check for a properites file. These files can be created by libvips when\n  // building deepZoom images and contain useful metadata about the image.\n  async getProjectImageProperties ({\n    state,\n    dispatch\n  }) {\n    // Construct path to file\n    const propsLocation = `${location.origin}/data/${state.projectFilePath.slice(0, -4)}_files/vips-properties.xml`\n\n    // Fetch data and convert to jsObject\n    const propertiesFile = await fetch(propsLocation)\n    const data = JSON.parse(convert.xml2json(\n      await propertiesFile.text(),\n      {\n        ignoreDeclaration: true,\n        compact: true,\n        ignoreComment: true,\n        alwaysChildren: true,\n        attributesKey: 'attributes',\n        textKey: 'text'\n      }\n    ))\n\n    // Extract relevant metrics\n    const mppX = Number(data.image.properties.property.find(ele => {\n      return ele.name.text === 'openslide.mpp-x'\n    }).value.text)\n\n    const mppY = Number(data.image.properties.property.find(ele => {\n      return ele.name.text === 'openslide.mpp-y'\n    }).value.text)\n\n    // Dispatch methods for saving the scale\n    dispatch('image/setPixelScaleFactor', { mppX, mppY }, { root: true })\n  }\n}\n","export default {\n  setAvailableImages (state, availableImages) {\n    state.availableImages = availableImages\n  },\n\n  setProjectFilePath (state, projectFilePath) {\n    state.projectFilePath = projectFilePath\n  },\n\n  setAnnotationFilePath: (state, payload) => {\n    state.annotationFilePath = payload\n  }\n}\n","import actions from './actions'\nimport mutations from './mutations'\n\nconst state = {\n  availableImages: [],\n  projectFilePath: '',\n  annotationFilePath: ''\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n}\n","export default {\n  loadEditorConfig: ({\n    dispatch\n  }, config) => {\n    if (Object.prototype.hasOwnProperty.call(config, 'activeLayerIndex')) {\n      dispatch('setActiveLayerIndex', config.activeLayerIndex)\n    }\n\n    if (Object.prototype.hasOwnProperty.call(config, 'activeImageIndex')) {\n      dispatch('image/setActiveImageIndex', config.activeImageIndex, { root: true })\n    }\n\n    if (Object.prototype.hasOwnProperty.call(config, 'steps')) {\n      dispatch('setSteps', config.steps)\n    }\n\n    if (Object.prototype.hasOwnProperty.call(config, 'activeStep')) {\n      dispatch('setActiveStep', config.steps[config.activeStep])\n    }\n  },\n\n  setSteps: ({\n    commit\n  }, steps) => {\n    commit('setSteps', steps)\n  },\n\n  setTask: ({\n    commit\n  }, task) => {\n    commit('setTask', task)\n  },\n\n  dismissSnackbar: ({\n    commit\n  }) => {\n    commit('dismissSnackbar')\n  },\n\n  activateSnackbar: ({\n    commit\n  }, payload) => {\n    commit('activateSnackbar', payload)\n  },\n\n  synchroniseAnnotationAndOSDCanvas: ({\n    commit,\n    rootState\n  }) => {\n    commit('synchroniseAnnotationAndOSDCanvas', rootState.image.OSDviewer)\n  },\n\n  setActiveStepAndLayer: ({\n    dispatch\n  }, index) => {\n    dispatch('setActiveLayerIndex', index)\n    dispatch('setActiveStep', index)\n  },\n\n  setActiveStep: ({\n    commit,\n    dispatch\n  }, step) => {\n    if (typeof step.specificLayer === 'number') {\n      dispatch('annotation/setActiveLayerIndex', (step.specificLayer), {\n        root: true\n      })\n    }\n    commit('setActiveStep', (step.id - 1))\n  },\n\n  setActiveLayerIndex: ({\n    commit\n  }, layerIndex) => {\n    commit('setActiveLayerIndex', layerIndex)\n  },\n\n  toggleSettings: ({\n    commit\n  }) => {\n    commit('toggleSettings')\n  },\n\n  setActiveValidationIndex: ({\n    commit\n  }, payload) => {\n    commit('setActiveValidationIndex', payload)\n  },\n\n  setupForValidation: ({\n    commit\n  }) => {\n    commit('setupForValidation')\n  },\n\n  loadDemo: async ({\n    dispatch\n  }) => {\n    await dispatch('synchroniseAnnotationAndOSDCanvas')\n\n    // Demo data isn't saved on a server but locally in the browser so check\n    // for it when openning the demo project and load if found.\n    const savedAnnotation = window.localStorage.annotation\n    if (savedAnnotation) {\n      await dispatch('annotation/loadAnnotation',\n        JSON.parse(savedAnnotation),\n        { root: true }\n      )\n    } else {\n      dispatch('annotation/loadAnnotation', null, { root: true })\n    }\n\n    await dispatch('image/clearImages', null, { root: true })\n    await dispatch('image/addOSDImage', {\n      name: 'Example image',\n      fileType: 'dzi',\n      source: 'https://s3-eu-west-1.amazonaws.com/aida-example/SampleKi67.dzi',\n      function: 'project',\n      opacity: 1\n    }, { root: true })\n  },\n\n  toggleToolsDrawer: ({\n    commit\n  }) => {\n    commit('toggleToolsDrawer')\n  },\n\n  setToolsDrawerState: ({\n    commit\n  }, payload) => {\n    commit('setToolsDrawerState', payload)\n  },\n\n  toggleStudioDrawer: ({\n    commit\n  }) => {\n    commit('toggleStudioDrawer')\n  },\n\n  setStudioDrawerState: ({\n    commit\n  }, payload) => {\n    commit('setStudioDrawerState', payload)\n  },\n\n  createNewItem: ({\n    state,\n    rootState,\n    commit\n  }, payload) => {\n    payload.studyName = state.studyName\n    payload.imageName = rootState.image.projectImageName\n    commit('createNewItem', payload)\n  }\n}\n","import paper from 'paper'\n\nexport default {\n  setTask: (state, task) => {\n    state.task = task\n  },\n\n  activateSnackbar: (state, payload) => {\n    state.snackbar.active = true\n    state.snackbar.text = payload.text ? payload.text : 'notification'\n    state.snackbar.color = payload.color ? payload.color : 'info'\n    state.snackbar.timeout = payload.timeout ? payload.timeout : 4000\n  },\n\n  dismissSnackbar: state => {\n    state.snackbar.active = false\n  },\n\n  // Synchronise the position and scale of both the openseadragon image and the\n  // annotation project.\n  synchroniseAnnotationAndOSDCanvas: (state, viewer) => {\n    viewer.addHandler('animation', () => {\n      paper.view.autoUpdate = false\n      paper.project.layers.forEach(layer => { layer.getItems({ }).forEach(item => { item.visible = false }) })\n      const baseImage = viewer.world.getItemAt(0)\n      const center = baseImage.viewportToImageCoordinates(viewer.viewport.getCenter(true))\n      // Sync Zoom\n      const currentZoom = viewer.viewport.getZoom(true)\n      paper.view.zoom = baseImage.viewportToImageZoom(currentZoom)\n      // Sync Center\n      paper.view.center = new paper.Point(center.x, center.y)\n      const bounds = paper.view.bounds\n      paper.view.itemsTree.search({ minX: bounds.x, minY: bounds.y, maxX: bounds.x + bounds.width, maxY: bounds.y + bounds.height }).forEach(treeNode => { treeNode.item.visible = true })\n      paper.view.autoUpdate = true\n      paper.view.update()\n    })\n\n    viewer.addHandler('resize', function (e) {\n      paper.view.autoUpdate = false\n      paper.project.layers.forEach(layer => { layer.getItems({ }).forEach(item => { item.visible = false }) })\n      const baseImage = viewer.world.getItemAt(0)\n\n      // Sync Size\n      paper.view.viewSize.width = e.newContainerSize.x\n      paper.view.viewSize.height = e.newContainerSize.y\n\n      // Sync Zoom\n      const currentZoom = viewer.viewport.getZoom(true)\n      paper.view.zoom = baseImage.viewportToImageZoom(currentZoom)\n\n      // Sync Center\n      const center = baseImage.viewportToImageCoordinates(\n        viewer.viewport.getCenter(true)\n      )\n      paper.view.center = new paper.Point(center.x, center.y)\n      const bounds = paper.view.bounds\n      paper.view.itemsTree.search({ minX: bounds.x, minY: bounds.y, maxX: bounds.x + bounds.width, maxY: bounds.y + bounds.height }).forEach(treeNode => { treeNode.item.visible = true })\n\n      const strokeWidth = Math.ceil(paper.view.viewSize.width * state.strokeScale / (viewer.viewport.getMaxZoom() * 1000))\n      paper.project.getItems().forEach(item => {\n        item.strokeWidth = strokeWidth\n        // Ruler items need special treatment to re-draw the labels\n        if (Object.prototype.hasOwnProperty.call(item, 'drawLabel')) item.drawLabel()\n      })\n\n      paper.view.autoUpdate = true\n      paper.view.update()\n    })\n\n    // When an item (image) is added to the world sync the path stroke widths\n    viewer.world.addHandler('add-item', function (e) {\n      paper.view.autoUpdate = false\n      const baseImage = viewer.world.getItemAt(0)\n      const container = document.getElementById('view')\n\n      // Sync Size\n      paper.view.viewSize.width = container.offsetWidth\n      paper.view.viewSize.height = container.offsetHeight\n\n      // Sync Zoom\n      const currentZoom = viewer.viewport.getZoom(true)\n      paper.view.zoom = baseImage.viewportToImageZoom(currentZoom)\n\n      // Sync Center\n      const center = baseImage.viewportToImageCoordinates(viewer.viewport.getCenter(true))\n      paper.view.center = new paper.Point(center.x, center.y)\n\n      const strokeWidth = Math.ceil(paper.view.viewSize.width * state.strokeScale / (viewer.viewport.getMaxZoom() * 1000))\n      paper.project.getItems().forEach(item => {\n        item.strokeWidth = strokeWidth\n        // Ruler items need special treatment to re-draw the labels\n        if (Object.prototype.hasOwnProperty.call(item, 'drawLabel')) item.drawLabel()\n      })\n\n      paper.view.autoUpdate = true\n      paper.view.update()\n    })\n  },\n\n  setActiveStep: (state, stepIndex) => {\n    state.activeStep = stepIndex\n  },\n\n  setActiveLayerIndex: (state, layerIndex) => {\n    state.activeLayerIndex = layerIndex\n  },\n\n  toggleSettings: state => {\n    state.settingsFlag = !state.settingsFlag\n  },\n\n  setActiveValidationIndex: (state, payload) => {\n    state.activeValidationIndex = payload\n  },\n\n  setSteps: (state, steps) => {\n    if (steps) state.steps = steps\n    else {\n      state.toolsDrawer = false\n      state.studioDrawer = false\n      if (state.task === 'review') {\n        state.steps = [{\n          id: 1,\n          instruction: 'Review the data',\n          type: 'review'\n        }]\n      } else if (state.task === 'validate') {\n        state.steps = [{\n          id: 1,\n          instruction: 'Cycle through each of the predicted Megakaryocyte classifications and verify whether the prediction is correct or incorrect. In cases where you are not certain, flag the prediction for review.',\n          type: 'validate'\n        }]\n      } else {\n        state.toolsDrawer = true\n        state.studioDrawer = true\n        state.steps = null\n      }\n    }\n  },\n\n  toggleToolsDrawer: state => {\n    state.toolsDrawer = !state.toolsDrawer\n  },\n\n  toggleStudioDrawer: state => {\n    state.studioDrawer = !state.studioDrawer\n  },\n\n  setToolsDrawerState: (state, payload) => {\n    state.toolsDrawer = payload\n  },\n\n  setStudioDrawerState: (state, payload) => {\n    state.studioDrawer = payload\n  }\n}\n","export default {\n  // Get an array specifying the tools included in the current step.\n  getStepTools: state => {\n    if (state.steps && state.steps[state.activeStep].tools) {\n      return state.steps[state.activeStep].tools\n    } else {\n      return ['pan', 'circle', 'rectangle', 'path', 'pencil', 'polygon', 'paint', 'paste', 'edit', 'move', 'node', 'count', 'delete', 'megas', 'filter', 'super-pixel', 'ruler', 'reshape']\n    }\n  }\n}\n","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\n\nconst state = {\n  task: '',\n  toolsDrawer: true,\n  studioDrawer: true,\n  snackbar: {\n    active: false,\n    text: 'this is a notification',\n    color: 'info',\n    timeout: 4000\n  },\n  type: 'dzi',\n  activeImageIndex: 0,\n  activeLayerIndex: 0,\n  activeStep: 0,\n  steps: null,\n  settingsFlag: false,\n  activeValidationIndex: 0,\n  strokeScale: 5\n}\n\nexport default {\n  namespaced: true,\n  state,\n  actions,\n  mutations,\n  getters\n}\n","export default {\n  getMaxZoom: state => {\n    if (state.OSDviewer) {\n      return Math.round(state.OSDviewer.viewport.getMaxZoom())\n    } else {\n      return 10\n    }\n  },\n\n  getZoom: state => {\n    if (state.OSDviewer) {\n      const zoom = state.OSDviewer.viewport.getZoom()\n\n      if (zoom < 100) {\n        return Math.round(zoom * 10) / 10\n      } else {\n        return Math.round(zoom)\n      }\n    } else {\n      return 'na'\n    }\n  },\n\n  getImageWidth: state => {\n    if (state.OSDviewer) {\n      if (state.OSDviewer.world.getItemCount() > 0) {\n        return state.OSDviewer.world.getItemAt(0).getContentSize.x\n      } else {\n        return 0\n      }\n    }\n  },\n\n  getImages: state => {\n    // Filter out the overlay images as not interested in returning these.\n    const projectImages = state.images.filter(image => image.function !== 'overlay')\n\n    // Check if a viewer has been instantiated and there is at minimum 1 project\n    // image in the OSD world and the image vuex state.\n    if (state.OSDviewer && state.OSDviewer.world.getItemCount() > 0 &&\n        projectImages.length > 0) {\n      //\n      // Reformat the array so that it includes more details.\n      return projectImages.map(imageDetails => {\n        const image = state.OSDviewer.world.getItemAt(imageDetails.index)\n        if (image) {\n          return {\n            image: image,\n            id: imageDetails.index,\n            opacity: image.getOpacity(),\n            name: imageDetails.name,\n            visible: image.getOpacity() > 0,\n            opacityCache: 0\n          }\n        }\n      })\n    } else {\n      return []\n    }\n  }\n}\n","export default {\n  addOSDImage: ({\n    commit\n  }, payload) => {\n    commit('addOSDImage', payload)\n  },\n\n  clearImages: ({\n    commit\n  }) => {\n    commit('clearImages')\n  },\n\n  setProjectImageName: ({\n    commit\n  }, projectImageName) => {\n    commit('setProjectImageName', projectImageName)\n  },\n\n  setupOsdCanvas: ({\n    commit\n  }, payload) => {\n    commit('setupOsdCanvas', payload)\n  },\n\n  resetImageState: ({\n    commit,\n    rootState\n  }) => {\n    commit('resetImageState', rootState)\n  },\n\n  setActiveImageIndex: ({\n    commit\n  }, payload) => {\n    commit('setActiveImageIndex', payload)\n  },\n\n  setActiveImageOpacity: ({\n    commit\n  }, payload) => {\n    commit('setActiveImageOpacity', payload)\n  },\n\n  setActiveImageName: ({\n    commit\n  }, payload) => {\n    commit('setActiveImageName', payload)\n  },\n\n  setZoom: ({\n    state\n  }, payload) => {\n    const newZoom = payload instanceof KeyboardEvent ? Number(payload.target.value) : Number(payload)\n    if (newZoom > 0) { state.OSDviewer.viewport.zoomTo(newZoom) }\n  },\n\n  setPixelScaleFactor: ({\n    commit\n  }, payload) => {\n    commit('setPixelScaleFactor', payload)\n  }\n}\n","import Vue from 'vue'\nimport openseadragon from 'openseadragon'\nimport axios from 'axios'\n\nexport default {\n  setProjectImageName: (state, projectImageName) => {\n    state.projectImageName = projectImageName\n  },\n\n  resetImageState: (state) => {\n    state.OSDviewer.navigator.destroy()\n    state.OSDviewer.destroy()\n\n    state = {\n      OSDviewer: null,\n      OSDworld: null,\n      activeImageIndex: 0,\n      view: {\n        viewSize: [null, null],\n        imageSize: [null, null],\n        imageCenter: [null, null],\n        imageZoom: null\n      },\n      image: '',\n      imageAccessToken: ''\n    }\n  },\n\n  setupOsdCanvas: (state, payload) => {\n    state.OSDviewer = new openseadragon.Viewer({\n      id: payload,\n      showNavigationControl: false,\n      showNavigator: true,\n      navigatorId: 'navigator',\n      navigatorAutoResize: false\n    })\n\n    // Prevent rotation and 'flipping' of the image through the default keybaord\n    // shortcuts, R and F. (these were conflicting with other annotation tool\n    // shortcuts when the image was open)\n    state.OSDviewer.addHandler('canvas-key', e => {\n      if (e.originalEvent.code === 'KeyR' || e.originalEvent.code === 'KeyF') {\n        e.preventDefaultAction = true\n      }\n    })\n  },\n\n  setActiveImageIndex: (state, payload) => {\n    // Payload can be either the image index or the image name.\n    if (typeof payload === 'number') {\n      state.activeImageIndex = payload\n    } else if (typeof payload === 'string') {\n      state.activeImageIndex = state.images.findIndex(image => {\n        return image.name === payload\n      })\n    }\n  },\n\n  setActiveImageName: (state, payload) => {\n    // Save changes to Vuex state, have to use Vue.set to get around the fact that vueJs\n    // is not reactive to mutations of arrays.\n    if (payload instanceof KeyboardEvent) {\n      Vue.set(state.images[state.activeImageIndex], 'name', payload.target.value)\n    } else {\n      Vue.set(state.images[state.activeImageIndex], 'name', payload)\n    }\n  },\n\n  setActiveImageOpacity: (state, payload) => {\n    // The opacity can be set by the 'enter' key-event or mouse interaction with\n    // the UI slider. Where exactly the value is specified it dependent on how\n    // this action was triggered.\n    let newOpacity = payload instanceof KeyboardEvent ? payload.target.value / 100 : payload / 100\n    newOpacity = Math.min(Math.max(newOpacity, 0), 1)\n\n    const image = state.OSDviewer.world.getItemAt(state.activeImageIndex)\n    if (image) image.setOpacity(newOpacity)\n\n    // Save changed opacity to the Vuex state.\n    // Watch out for Vue Change Detection Caveats: isn't reactive to new\n    // attributes being added to an object. Use Vue.set to get around this.\n    Vue.set(\n      state.images[state.activeImageIndex],\n      'opacity',\n      newOpacity\n    )\n  },\n\n  addOSDImage: (state, payload) => {\n    // Add the image to the OSD viewer.\n    // Require different API method calls for tiled/simple images.\n    if (payload.fileType === 'tiled') {\n      axios.get(location.origin + '/iiif')\n        .then((response) => {\n          state.OSDviewer.addTiledImage({\n            tileSource: new URL(encodeURIComponent(payload.source) + '/info.json', response.data.toString()).toString(),\n            opacity: payload.opacity\n          })\n        })\n    } else if (payload.fileType === 'dzi') {\n      state.OSDviewer.addTiledImage({\n        tileSource: payload.source,\n        opacity: payload.opacity\n      })\n    } else if (payload.fileType === 'simple') {\n      state.OSDviewer.addSimpleImage({\n        url: payload.source,\n        opacity: payload.opacity\n      })\n    }\n\n    // Keep a record of the available images.\n    state.images.push({\n      ...payload,\n      index: state.OSDviewer.world.getItemCount()\n    })\n  },\n\n  clearImages: state => {\n    state.images = []\n  },\n\n  setPixelScaleFactor: (state, payload) => {\n    state.pixelScaleFactor.mppX = payload.mppX\n    state.pixelScaleFactor.mppY = payload.mppY\n  }\n}\n","import getters from './getters'\nimport actions from './actions'\nimport mutations from './mutations'\n\nconst state = {\n  OSDviewer: null,\n  OSDworld: null,\n  activeImageIndex: 0,\n  // This refers to the **main** image in the project - the subject.\n  projectImageName: '',\n  // This is an array of al the images. It may include overlays on differnt\n  // images.\n  images: [],\n  // The scale factor for the image. To determine real dimensions.\n  pixelScaleFactor: {\n    mppX: null,\n    mppY: null\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import paper from 'paper'\n\nexport default {\n  // Default set of colors\n  defaultColors () {\n    return [{\n      fill: {\n        hue: 170,\n        saturation: 0.44,\n        lightness: 0.69,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 170,\n        saturation: 0.44,\n        lightness: 0.69,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 60,\n        saturation: 1,\n        lightness: 0.85,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 60,\n        saturation: 1,\n        lightness: 0.85,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 248,\n        saturation: 0.3,\n        lightness: 0.79,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 248,\n        saturation: 0.3,\n        lightness: 0.79,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 6,\n        saturation: 0.94,\n        lightness: 0.72,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 6,\n        saturation: 0.94,\n        lightness: 0.72,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 205,\n        saturation: 0.49,\n        lightness: 0.66,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 205,\n        saturation: 0.49,\n        lightness: 0.66,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 32,\n        saturation: 0.97,\n        lightness: 0.69,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 32,\n        saturation: 0.97,\n        lightness: 0.69,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 82,\n        saturation: 0.64,\n        lightness: 0.64,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 82,\n        saturation: 0.64,\n        lightness: 0.64,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 329,\n        saturation: 0.89,\n        lightness: 0.9,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 329,\n        saturation: 0.89,\n        lightness: 0.9,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 0,\n        saturation: 0,\n        lightness: 0.85,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 0,\n        saturation: 0,\n        lightness: 0.85,\n        alpha: 1\n      }\n    }, {\n      fill: {\n        hue: 299,\n        saturation: 0.32,\n        lightness: 0.62,\n        alpha: 0.7\n      },\n      stroke: {\n        hue: 299,\n        saturation: 0.32,\n        lightness: 0.62,\n        alpha: 1\n      }\n    }]\n  },\n\n  // Input:  an AIDA item\n  // Output: none (draws the item on the currently active layer in the paperJS\n  //         instance)\n  drawItem (item) {\n    if (item) {\n      let newPaperItem\n      if (item.type === 'circle') {\n        newPaperItem = new paper.Shape.Circle({\n          center: item.center,\n          radius: item.radius,\n          data: {\n            type: 'circle',\n            countable: true,\n            class: item.class,\n            data: item.data\n          },\n          locked: item.locked\n        })\n        this.drawItemColor(newPaperItem, item)\n      } else if (item.type === 'rectangle') {\n        newPaperItem = new paper.Shape.Rectangle({\n          point: [item.x, item.y],\n          size: [item.width, item.height],\n          data: {\n            type: 'rectangle',\n            class: item.class,\n            data: item.data\n          },\n          locked: item.locked\n        })\n        this.drawItemColor(newPaperItem, item)\n      } else if (item.type === 'path') {\n        newPaperItem = new paper.Path({\n          segments: item.segments,\n          closed: item.closed ? item.closed : false,\n          data: {\n            type: 'path',\n            class: item.class,\n            data: item.data\n          },\n          locked: item.locked\n        })\n        this.drawItemColor(newPaperItem, item)\n      } else if (item.type === 'raster') {\n        const itemPosition = Object.prototype.hasOwnProperty.call(item, 'position') ? new paper.Point(item.position.x, item.position.y) : new paper.Point(0, 0)\n        newPaperItem = new paper.Raster({\n          crossOrigin: 'anonymous',\n          source: item.source,\n          position: itemPosition,\n          data: {\n            type: 'raster',\n            countable: false,\n            class: item.class,\n            data: item.data\n          },\n          locked: item.locked\n        })\n      }\n      newPaperItem.strokeScaling = false\n      return newPaperItem\n    }\n  },\n\n  // Input: paperJS item\n  // Output: Segments in the format specified by the AIDA annotation schema\n  getSegments (item) {\n    const segments = []\n    for (let i = 0, len = item.segments.length; i < len; i++) {\n      const segment = item.segments[i]\n      if (segment.hasHandles()) {\n        segments.push([\n          [segment.point.x, segment.point.y],\n          [segment.handleIn.x, segment.handleIn.y],\n          [segment.handleOut.x, segment.handleOut.y]\n        ])\n      } else {\n        segments.push([segment.point.x, segment.point.y])\n      }\n    }\n    return segments\n  },\n\n  // Input: paperJS path item\n  // Output: the stroke and fill color as an object\n  getColor (item) {\n    return {\n      fill: item.fillColor ? {\n        hue: item.fillColor.hue,\n        saturation: item.fillColor.saturation,\n        lightness: item.fillColor.lightness,\n        alpha: item.fillColor.alpha\n      } : null,\n      stroke: item.strokeColor ? {\n        hue: item.strokeColor.hue,\n        saturation: item.strokeColor.saturation,\n        lightness: item.strokeColor.lightness,\n        alpha: item.strokeColor.alpha\n      } : null\n    }\n  },\n\n  drawItemColor (paperItem, stateItem) {\n    const defaultColors = this.defaultColors()\n    if (paperItem.closed) {\n      if (stateItem.color && stateItem.color.fill) {\n        if (typeof stateItem.color.fill === 'string') {\n          paperItem.fillColor = stateItem.color.fill\n          paperItem.fillColor.alpha = 0.2\n        } else {\n          paperItem.fillColor = new paper.Color({\n            hue: stateItem.color.fill.hue,\n            saturation: stateItem.color.fill.saturation,\n            lightness: stateItem.color.fill.lightness,\n            alpha: stateItem.color.fill.alpha\n          })\n        }\n      }\n    }\n\n    if (stateItem.color && stateItem.color.stroke) {\n      if (typeof stateItem.color.stroke === 'string') {\n        paperItem.strokeColor = stateItem.color.stroke\n      } else {\n        paperItem.strokeColor = new paper.Color({\n          hue: stateItem.color.stroke.hue,\n          saturation: stateItem.color.stroke.saturation,\n          lightness: stateItem.color.stroke.lightness,\n          alpha: stateItem.color.stroke.alpha\n        })\n      }\n    } else {\n      paperItem.strokeColor = defaultColors[paperItem.layer.index % defaultColors.length].stroke\n    }\n  }\n}\n","import helpers from './helpers.js'\nimport paper from 'paper'\n\nexport default {\n  loadAnnotation: async ({\n    dispatch,\n    commit\n  }, payload) => {\n    paper.view.autoUpdate = false\n    // Reset the project state to the empty defaults\n    commit('resetProjectState')\n    if (payload) {\n      const treeNodes = []\n      // Draw the annotation layers\n      for (const layer of payload.layers) {\n        await dispatch('createLayer')\n        await dispatch('setActiveLayerName', layer.name)\n        await dispatch('setActiveLayerType', layer.type)\n        for (const item of layer.items) {\n          // If the item has type 'overlay' trigger openseadragon to load the\n          // overlay image on top of the project image.\n          if (item.type === 'overlay') {\n            await dispatch('image/addOSDImage', {\n              function: 'overlay',\n              fileType: item.fileType,\n              source: item.source,\n              name: layer.name,\n              opacity: layer.opacity\n            }, { root: true })\n            await dispatch('image/setActiveImageIndex', layer.name, { root: true })\n\n            // The overlay isn't present in the paperJS project. Therefore, it\n            // needs to be manually added to the state.\n            commit('addItemToActiveLayer', item)\n          } else {\n            const paperItem = helpers.drawItem(item)\n            const bounds = paperItem.bounds\n            const treeNode = { minX: bounds.x, minY: bounds.y, maxX: bounds.x + bounds.width, maxY: bounds.y + bounds.height, item: paperItem }\n            treeNodes.push(treeNode)\n          }\n        }\n        dispatch('setActiveLayerOpacity', layer.opacity * 100)\n      }\n      paper.view.itemsTree.load(treeNodes)\n\n      // Active the correct layer as specified by editor state.\n      if (payload.activeLayerIndex) dispatch('setActiveLayerIndex', payload.activeLayerIndex)\n    } else {\n      await dispatch('createLayer')\n      dispatch('setActiveLayerName', 'Layer 1')\n      dispatch('setActiveLayerType', 'paths')\n    }\n    paper.view.autoUpdate = true\n    paper.view.update()\n  },\n\n  resetAnnotationState: ({\n    commit\n  }) => {\n    commit('resetAnnotationState')\n  },\n\n  refreshAnnotationState: ({\n    commit\n  }, payload) => {\n    commit('refreshAnnotationState', payload)\n  },\n\n  prepareCanvas: ({\n    rootState\n  }) => {\n    paper.view.element.style.pointerEvents = 'auto'\n    if (rootState.app.activeLayerIndex) {\n      paper.project.layers[rootState.app.activeLayerIndex].activate()\n    }\n  },\n\n  createLayer: ({\n    commit\n  }) => {\n    commit('createLayer')\n  },\n\n  setActiveLayerIndex: ({\n    state,\n    dispatch\n  }, layerIndex) => {\n    paper.project.layers[layerIndex].activate()\n    dispatch('app/setActiveLayerIndex', layerIndex, { root: true })\n\n    // For overlay layers it is necessary to also activate the associated\n    // image where OSD renders the overlay.\n    if (state.project.layers[layerIndex].type === 'overlay') {\n      const activeLayerName = state.project.layers[layerIndex].name\n      dispatch('image/setActiveImageIndex', activeLayerName, { root: true })\n    }\n  },\n\n  setActiveLayerOpacity: ({\n    state,\n    dispatch,\n    commit\n  }, payload) => {\n    commit('setActiveLayerOpacity', payload)\n\n    // For overlay layers it is necessary to also activate the associated\n    // image where OSD renders the overlay.\n    const activeLayerIndex = paper.project.activeLayer.index\n    if (state.project.layers[activeLayerIndex].type === 'overlay') {\n      dispatch('image/setActiveImageOpacity', payload, { root: true })\n    }\n  },\n\n  setActiveLayerName: ({\n    commit\n  }, payload) => {\n    commit('setActiveLayerName', payload)\n  },\n\n  setActiveLayerType: ({\n    commit\n  }, payload) => {\n    commit('setActiveLayerType', payload)\n  },\n\n  deleteActiveLayer: ({\n    commit\n  }) => {\n    commit('deleteActiveLayer')\n  },\n\n  setProjectName: ({\n    commit\n  }, payload) => {\n    commit('setProjectName', payload)\n  },\n\n  setSelectedItems: ({\n    commit\n  }, payload) => {\n    commit('setSelectedItems', payload)\n  },\n\n  drawBoundingBoxes: ({\n    commit\n  }, payload) => {\n    commit('drawBoundingBoxes', payload)\n  },\n\n  setSaveState: ({\n    commit\n  }, payload) => {\n    commit('setSaveState', payload)\n  },\n\n  flagAnnotationEdits: ({\n    commit\n  }) => {\n    commit('setSaveState', {\n      changesSaved: false\n    })\n  }\n}\n","import Vue from 'vue'\nimport paper from 'paper'\nimport helpers from './helpers.js'\n\nexport default {\n  // Reset vuex project State to the empty default.\n  resetProjectState: state => {\n    Vue.set(state, 'project', {\n      name: 'An AIDA project',\n      layers: []\n    })\n  },\n\n  // Add an item to the active layer.\n  // Used for items that are not automatically kept in the paperJS project and\n  // therefore need to be manually added.\n  addItemToActiveLayer: (state, item) => {\n    const activeLayer = state.project.layers[paper.project.activeLayer.index]\n    activeLayer.items.push(item)\n  },\n\n  // Incorporate all of the paperJS annotation items in the Vuex state\n  refreshAnnotationState: state => {\n    paper.project.layers.forEach(layer => {\n      const currentStateLayer = state.project.layers[layer.index]\n      Vue.set(state.project.layers, layer.index, {\n        name: currentStateLayer.name,\n        opacity: layer.opacity,\n        type: currentStateLayer.type,\n        // Clear the all but the overlay items currently in the state.\n        items: currentStateLayer.items.filter(item => item.type === 'overlay')\n      })\n    })\n\n    // Gather all the Path/Raster items in the paperJS environment\n    const items = paper.project.getItems({\n      className: function (className) {\n        return (className === 'Path' || className === 'Raster' || className === 'Shape')\n      }\n    })\n\n    // Store them in the state appropriately. Convention follows AIDA annotation\n    // schema: https://github.com/alanaberdeen/AIDA/wiki/Annotation-Schema\n    for (const item of items) {\n      if (item.data.type === 'circle') {\n        state.project.layers[item.layer.index].items.push({\n          class: item.data.class,\n          type: 'circle',\n          color: helpers.getColor(item),\n          center: {\n            x: item.position.x,\n            y: item.position.y\n          },\n          radius: item.bounds.width / 2,\n          locked: item.locked,\n          data: item.data.data\n        })\n      } else if (item.data.type === 'rectangle') {\n        state.project.layers[item.layer.index].items.push({\n          ...item.data,\n          color: helpers.getColor(item),\n          x: item.bounds.x,\n          y: item.bounds.y,\n          width: item.bounds.width,\n          height: item.bounds.height,\n          locked: item.locked\n        })\n      } else if (item.data.type === 'path') {\n        state.project.layers[item.layer.index].items.push({\n          class: item.data.class,\n          type: 'path',\n          color: helpers.getColor(item),\n          segments: helpers.getSegments(item),\n          closed: item.closed,\n          locked: item.locked,\n          data: item.data.data\n        })\n      // Check if the item is meant to represent an edit to an image. For\n      // example when editing a segmentation mask that is tiled and overlayed\n      // on the project image.\n      } else if (item.data.type === 'imageEdit') {\n        const rasterizedItem = item.rasterize()\n        const itemDataURL = rasterizedItem.toDataURL()\n\n        state.project.layers[item.layer.index].items.push({\n          class: item.data.class,\n          type: 'raster',\n          source: itemDataURL,\n          position: {\n            x: item.position.x,\n            y: item.position.y\n          },\n          data: item.data.data\n        })\n      // If the item is a raster, we need to incorporate edits to it.\n      // Therefore, necessary to 'rasterise' this image and it's combined edits.\n      } else if (item.data.type === 'raster') {\n        const editItems = item.layer.getItems({\n          match: item => { return item.locked },\n          overlapping: item.bounds\n        })\n\n        // Add the original raster item to the array. Make sure to include\n        // as the first child so that the edits are displayed above it in the\n        // project hierarchy\n        editItems.unshift(item)\n\n        // When a new group is created the default behaviour is to place is at\n        // the top of the active layer. Avoid this by explicitly sending it to\n        // the back of the project hierarchy.\n        const itemsToRaster = new paper.Group(editItems)\n        itemsToRaster.sendToBack()\n\n        // Rasterize the image and it's edits. Convert to a base64 encoded URL.\n        const rasterizedGroup = itemsToRaster.rasterize(item.resolution.height, false)\n        const rasterizedData = rasterizedGroup.toDataURL()\n\n        state.project.layers[item.layer.index].items.push({\n          class: item.data.class,\n          type: 'raster',\n          source: rasterizedData,\n          position: {\n            x: item.position.x,\n            y: item.position.y\n          },\n          data: item.data.data\n        })\n      }\n    }\n\n    // Increment a tally of the number of time the project state has been\n    // refreshed. This is used as a bit of a hack so that different Vue\n    // components can easily 'watch()' part of the state and trigger methods\n    // on updates\n    state.projectStateRefreshIndex = state.projectStateRefreshIndex + 1\n  },\n\n  // Create a new layer in both the paperJS project and the vuex state\n  createLayer: state => {\n    const newLayer = new paper.Layer()\n    state.project.layers.push({\n      name: 'Layer ' + (state.project.layers.length + 1),\n      opacity: newLayer.opacity,\n      items: []\n    })\n  },\n\n  setActiveLayerOpacity: (state, payload) => {\n    // The opacity can be set by the 'enter' key-event or mouse interaction with\n    // the UI slider. Where exactly the value is specified it dependent on how\n    // this action was triggered.\n    let newOpacity = payload instanceof KeyboardEvent ? payload.target.value / 100 : payload / 100\n\n    // Restrict value to between 0 and 1\n    newOpacity = Math.min(Math.max(newOpacity, 0), 1)\n\n    // Set paperJS opacity\n    paper.project.activeLayer.opacity = newOpacity\n\n    // Save changed opacity to the Vuex state.\n    // Watch out for Vue Change Detection Caveats: isn't reactive to new\n    // attributes being added to an object. Use Vue.set to get around this.\n    Vue.set(\n      state.project.layers[paper.project.activeLayer.index],\n      'opacity',\n      newOpacity\n    )\n  },\n\n  setActiveLayerName: (state, payload) => {\n    const newName = payload instanceof KeyboardEvent ? payload.target.value : payload\n    paper.project.activeLayer.name = newName\n    Vue.set(state.project.layers[paper.project.activeLayer.index], 'name', newName)\n  },\n\n  setActiveLayerType: (state, type) => {\n    Vue.set(state.project.layers[paper.project.activeLayer.index], 'type', type)\n  },\n\n  deleteActiveLayer: (state) => {\n    state.project.layers.splice(paper.project.activeLayer.index, 1)\n    paper.project.activeLayer.remove()\n  },\n\n  setProjectName: (state, payload) => {\n    if (payload instanceof KeyboardEvent) {\n      state.project.name = payload.target.value\n    } else {\n      state.project.name = payload\n    }\n  },\n\n  setSelectedItems: (state, selectedItems) => {\n    state.selectedItems = selectedItems\n  },\n\n  drawBoundingBoxes: (state, boundingBoxes) => {\n    const newPaperLayer = new paper.Layer({ name: 'Validate' })\n    newPaperLayer.opacity = 1\n\n    boundingBoxes.forEach((box) => {\n      const newPaperItem = new paper.Path.Rectangle({\n        point: [box.boundingBox.x, box.boundingBox.y],\n        size: [box.boundingBox.width, box.boundingBox.height],\n        data: {\n          name: box.name,\n          type: 'rectangle',\n          predictionClass: box.class.predictionClass,\n          predictionScore: box.class.predictionScore,\n          validationClass: box.class.validationClass,\n          validationScore: box.class.validationScore\n        }\n      })\n      newPaperItem.strokeColor = state.defaultColors[newPaperItem.layer.index % state.defaultColors.length].stroke\n    })\n  },\n\n  setSaveState: (state, payload) => {\n    state.saveState.changesSaved = payload.changesSaved\n    if (payload.lastSaveTimeStamp) {\n      state.saveState.lastSaveTimeStamp = payload.lastSaveTimeStamp\n    }\n  }\n}\n","export default {\n\n  getColor: (state, getters, rootState) => {\n    const activeLayerIndex = rootState.app.activeLayerIndex\n    return state.defaultColors[activeLayerIndex % state.defaultColors.length]\n  },\n\n  getItemsForValidation: (state) => {\n    const validationLayer = state.project.layers.filter(layer => layer.name === 'Validate')\n\n    if (validationLayer.length > 0) {\n      return validationLayer[0].items\n    } else {\n      return []\n    }\n  }\n}\n","import actions from './actions'\nimport mutations from './mutations'\nimport getters from './getters'\nimport helpers from './helpers'\n\nconst state = {\n  project: {\n    name: 'An AIDA project',\n    layers: []\n  },\n  projectStateRefreshIndex: 0,\n  selectedItems: [],\n  currentColor: null,\n  defaultColors: helpers.defaultColors(),\n  saveState: {\n    changesSaved: true,\n    lastSaveTimeStamp: null\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport backend from './modules/backend/index'\nimport app from './modules/app/index'\nimport image from './modules/image/index'\nimport annotation from './modules/annotation/index'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    backend,\n    app,\n    image,\n    annotation\n  }\n})\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi'\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store/index'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}